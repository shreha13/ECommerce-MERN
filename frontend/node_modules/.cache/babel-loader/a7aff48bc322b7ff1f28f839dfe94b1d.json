{"ast":null,"code":"import Axios from \"axios\";\nimport { DELETE_USER_FAIL, DELETE_USER_SUCCESS, GET_USER_LOAD, GET_USER_FAIL, GET_USER_SUCCESS, GET_USERS_FAIL, GET_USERS_LOAD, GET_USERS_SUCCESS, UPDATE_ADMIN_USER_SUCCESS, UPDATE_ADMIN_USER_FAIL } from \"./types\";\nexport const getUsers = () => {\n  return async (dispatch, getState) => {\n    dispatch({\n      type: GET_USERS_LOAD\n    });\n    const auth = getState().auth;\n\n    try {\n      const token = auth.user.token;\n      const {\n        data\n      } = await Axios.get(\"/api/users\", {\n        headers: {\n          \"x-auth-header\": `Bearer ${token}`\n        }\n      });\n      dispatch({\n        type: GET_USERS_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: GET_USERS_FAIL,\n        payload: error.response ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const deleteUser = user => {\n  return async (dispatch, getState) => {\n    dispatch({\n      type: GET_USERS_LOAD\n    });\n    const auth = getState().auth;\n\n    try {\n      const token = auth.user.token;\n      debugger;\n      const {\n        data\n      } = await Axios.delete(`/api/users/${user._id}`, {\n        headers: {\n          \"x-auth-header\": `Bearer ${token}`\n        }\n      });\n      dispatch({\n        type: DELETE_USER_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: DELETE_USER_FAIL,\n        payload: error.response ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const getUserById = id => {\n  return async (dispatch, getState) => {\n    dispatch({\n      type: GET_USER_LOAD\n    });\n    const auth = getState().auth;\n\n    try {\n      const token = auth.user.token;\n      const {\n        data\n      } = await Axios.get(`/api/users/${id}`, {\n        headers: {\n          \"x-auth-header\": `Bearer ${token}`\n        }\n      });\n      dispatch({\n        type: GET_USER_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: GET_USER_FAIL,\n        payload: error.response ? error.response.data.message : error.message\n      });\n    }\n  };\n};\nexport const updateUser = user => async (dispatch, getState) => {\n  dispatch({\n    type: GET_USER_LOAD\n  });\n  const auth = getState().auth;\n\n  try {\n    const token = auth.user.token;\n    const {\n      data\n    } = await Axios.put(`/api/users`, {\n      headers: {\n        \"x-auth-header\": `Bearer ${token}`\n      }\n    });\n    dispatch({\n      type: UPDATE_ADMIN_USER_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: UPDATE_ADMIN_USER_FAIL,\n      payload: error.response ? error.response.data.message : error.message\n    });\n  }\n};","map":{"version":3,"sources":["D:/GitHub/ECommerce-MERN/frontend/src/actions/user.js"],"names":["Axios","DELETE_USER_FAIL","DELETE_USER_SUCCESS","GET_USER_LOAD","GET_USER_FAIL","GET_USER_SUCCESS","GET_USERS_FAIL","GET_USERS_LOAD","GET_USERS_SUCCESS","UPDATE_ADMIN_USER_SUCCESS","UPDATE_ADMIN_USER_FAIL","getUsers","dispatch","getState","type","auth","token","user","data","get","headers","payload","error","response","message","deleteUser","delete","_id","getUserById","id","updateUser","put"],"mappings":"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","sourcesContent":["import Axios from \"axios\";\r\nimport {\r\n  DELETE_USER_FAIL,\r\n  DELETE_USER_SUCCESS,\r\n  GET_USER_LOAD,\r\n  GET_USER_FAIL,\r\n  GET_USER_SUCCESS,\r\n  GET_USERS_FAIL,\r\n  GET_USERS_LOAD,\r\n  GET_USERS_SUCCESS,\r\n  UPDATE_ADMIN_USER_SUCCESS,\r\n  UPDATE_ADMIN_USER_FAIL,\r\n} from \"./types\";\r\n\r\nexport const getUsers = () => {\r\n  return async (dispatch, getState) => {\r\n    dispatch({\r\n      type: GET_USERS_LOAD,\r\n    });\r\n    const auth = getState().auth;\r\n    try {\r\n      const token = auth.user.token;\r\n      const { data } = await Axios.get(\"/api/users\", {\r\n        headers: {\r\n          \"x-auth-header\": `Bearer ${token}`,\r\n        },\r\n      });\r\n      dispatch({\r\n        type: GET_USERS_SUCCESS,\r\n        payload: data,\r\n      });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: GET_USERS_FAIL,\r\n        payload: error.response ? error.response.data.message : error.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteUser = (user) => {\r\n  return async (dispatch, getState) => {\r\n    dispatch({\r\n      type: GET_USERS_LOAD,\r\n    });\r\n    const auth = getState().auth;\r\n    try {\r\n      const token = auth.user.token;\r\n      debugger;\r\n      const { data } = await Axios.delete(`/api/users/${user._id}`, {\r\n        headers: {\r\n          \"x-auth-header\": `Bearer ${token}`,\r\n        },\r\n      });\r\n      dispatch({\r\n        type: DELETE_USER_SUCCESS,\r\n        payload: data,\r\n      });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: DELETE_USER_FAIL,\r\n        payload: error.response ? error.response.data.message : error.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const getUserById = (id) => {\r\n  return async (dispatch, getState) => {\r\n    dispatch({\r\n      type: GET_USER_LOAD,\r\n    });\r\n    const auth = getState().auth;\r\n    try {\r\n      const token = auth.user.token;\r\n      const { data } = await Axios.get(`/api/users/${id}`, {\r\n        headers: {\r\n          \"x-auth-header\": `Bearer ${token}`,\r\n        },\r\n      });\r\n      dispatch({\r\n        type: GET_USER_SUCCESS,\r\n        payload: data,\r\n      });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: GET_USER_FAIL,\r\n        payload: error.response ? error.response.data.message : error.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const updateUser = (user) => async (dispatch, getState) => {\r\n  dispatch({\r\n    type: GET_USER_LOAD,\r\n  });\r\n  const auth = getState().auth;\r\n  try {\r\n    const token = auth.user.token;\r\n    const { data } = await Axios.put(`/api/users`, {\r\n      headers: {\r\n        \"x-auth-header\": `Bearer ${token}`,\r\n      },\r\n    });\r\n    dispatch({\r\n      type: UPDATE_ADMIN_USER_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: UPDATE_ADMIN_USER_FAIL,\r\n      payload: error.response ? error.response.data.message : error.message,\r\n    });\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}