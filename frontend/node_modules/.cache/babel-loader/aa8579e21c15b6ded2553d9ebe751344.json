{"ast":null,"code":"import axios from \"axios\";\nimport { CART_ITEM_ADD, CART_ITEM_FAIL, CART_ITEM_LOADING, CART_ITEM_REMOVE, CART_SAVE_ADDRESS } from \"./types\";\nexport const addItemsToCart = (id, qty) => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: CART_ITEM_LOADING\n      });\n      const {\n        data\n      } = await axios.get(`/api/products/${id}`);\n      debugger;\n      dispatch({\n        type: CART_ITEM_ADD,\n        payload: {\n          product: data.product._id,\n          name: data.product.name,\n          price: data.product.price,\n          image: data.product.image,\n          countInStock: data.product.countInStock,\n          qty: qty\n        }\n      });\n      localStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems));\n    } catch (error) {\n      dispatch({\n        type: CART_ITEM_FAIL,\n        payload: error.message\n      });\n    }\n  };\n};\nexport const removeItemsFromCart = id => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: CART_ITEM_LOADING\n      });\n      dispatch({\n        type: CART_ITEM_REMOVE,\n        payload: id\n      });\n      localStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems));\n    } catch (error) {\n      dispatch({\n        type: CART_ITEM_FAIL,\n        payload: error.message\n      });\n    }\n  };\n};\nexport const saveShippingAddress = data => {\n  return dispatch => {\n    dispatch({\n      type: CART_SAVE_ADDRESS,\n      payload: data\n    });\n    localStorage.setItem(\"shippingAddress\", JSON.stringify(data));\n  };\n};","map":{"version":3,"sources":["D:/GitHub/ECommerce-MERN/frontend/src/actions/cart.js"],"names":["axios","CART_ITEM_ADD","CART_ITEM_FAIL","CART_ITEM_LOADING","CART_ITEM_REMOVE","CART_SAVE_ADDRESS","addItemsToCart","id","qty","dispatch","getState","type","data","get","payload","product","_id","name","price","image","countInStock","localStorage","setItem","JSON","stringify","cart","cartItems","error","message","removeItemsFromCart","saveShippingAddress"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,aADF,EAEEC,cAFF,EAGEC,iBAHF,EAIEC,gBAJF,EAKEC,iBALF,QAMO,SANP;AAQA,OAAO,MAAMC,cAAc,GAAG,CAACC,EAAD,EAAKC,GAAL,KAAa;AACzC,SAAO,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AACnC,QAAI;AACFD,MAAAA,QAAQ,CAAC;AACPE,QAAAA,IAAI,EAAER;AADC,OAAD,CAAR;AAGA,YAAM;AAAES,QAAAA;AAAF,UAAW,MAAMZ,KAAK,CAACa,GAAN,CAAW,iBAAgBN,EAAG,EAA9B,CAAvB;AACA;AACAE,MAAAA,QAAQ,CAAC;AACPE,QAAAA,IAAI,EAAEV,aADC;AAEPa,QAAAA,OAAO,EAAE;AACPC,UAAAA,OAAO,EAAEH,IAAI,CAACG,OAAL,CAAaC,GADf;AAEPC,UAAAA,IAAI,EAAEL,IAAI,CAACG,OAAL,CAAaE,IAFZ;AAGPC,UAAAA,KAAK,EAAEN,IAAI,CAACG,OAAL,CAAaG,KAHb;AAIPC,UAAAA,KAAK,EAAEP,IAAI,CAACG,OAAL,CAAaI,KAJb;AAKPC,UAAAA,YAAY,EAAER,IAAI,CAACG,OAAL,CAAaK,YALpB;AAMPZ,UAAAA,GAAG,EAAEA;AANE;AAFF,OAAD,CAAR;AAYAa,MAAAA,YAAY,CAACC,OAAb,CACE,WADF,EAEEC,IAAI,CAACC,SAAL,CAAed,QAAQ,GAAGe,IAAX,CAAgBC,SAA/B,CAFF;AAID,KAtBD,CAsBE,OAAOC,KAAP,EAAc;AACdlB,MAAAA,QAAQ,CAAC;AACPE,QAAAA,IAAI,EAAET,cADC;AAEPY,QAAAA,OAAO,EAAEa,KAAK,CAACC;AAFR,OAAD,CAAR;AAID;AACF,GA7BD;AA8BD,CA/BM;AAiCP,OAAO,MAAMC,mBAAmB,GAAItB,EAAD,IAAQ;AACzC,SAAO,OAAOE,QAAP,EAAiBC,QAAjB,KAA8B;AACnC,QAAI;AACFD,MAAAA,QAAQ,CAAC;AACPE,QAAAA,IAAI,EAAER;AADC,OAAD,CAAR;AAIAM,MAAAA,QAAQ,CAAC;AACPE,QAAAA,IAAI,EAAEP,gBADC;AAEPU,QAAAA,OAAO,EAAEP;AAFF,OAAD,CAAR;AAKAc,MAAAA,YAAY,CAACC,OAAb,CACE,WADF,EAEEC,IAAI,CAACC,SAAL,CAAed,QAAQ,GAAGe,IAAX,CAAgBC,SAA/B,CAFF;AAID,KAdD,CAcE,OAAOC,KAAP,EAAc;AACdlB,MAAAA,QAAQ,CAAC;AACPE,QAAAA,IAAI,EAAET,cADC;AAEPY,QAAAA,OAAO,EAAEa,KAAK,CAACC;AAFR,OAAD,CAAR;AAID;AACF,GArBD;AAsBD,CAvBM;AAyBP,OAAO,MAAME,mBAAmB,GAAIlB,IAAD,IAAU;AAC3C,SAAQH,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC;AACPE,MAAAA,IAAI,EAAEN,iBADC;AAEPS,MAAAA,OAAO,EAAEF;AAFF,KAAD,CAAR;AAKAS,IAAAA,YAAY,CAACC,OAAb,CAAqB,iBAArB,EAAwCC,IAAI,CAACC,SAAL,CAAeZ,IAAf,CAAxC;AACD,GAPD;AAQD,CATM","sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  CART_ITEM_ADD,\r\n  CART_ITEM_FAIL,\r\n  CART_ITEM_LOADING,\r\n  CART_ITEM_REMOVE,\r\n  CART_SAVE_ADDRESS,\r\n} from \"./types\";\r\n\r\nexport const addItemsToCart = (id, qty) => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: CART_ITEM_LOADING,\r\n      });\r\n      const { data } = await axios.get(`/api/products/${id}`);\r\n      debugger;\r\n      dispatch({\r\n        type: CART_ITEM_ADD,\r\n        payload: {\r\n          product: data.product._id,\r\n          name: data.product.name,\r\n          price: data.product.price,\r\n          image: data.product.image,\r\n          countInStock: data.product.countInStock,\r\n          qty: qty,\r\n        },\r\n      });\r\n\r\n      localStorage.setItem(\r\n        \"cartItems\",\r\n        JSON.stringify(getState().cart.cartItems)\r\n      );\r\n    } catch (error) {\r\n      dispatch({\r\n        type: CART_ITEM_FAIL,\r\n        payload: error.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const removeItemsFromCart = (id) => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: CART_ITEM_LOADING,\r\n      });\r\n\r\n      dispatch({\r\n        type: CART_ITEM_REMOVE,\r\n        payload: id,\r\n      });\r\n\r\n      localStorage.setItem(\r\n        \"cartItems\",\r\n        JSON.stringify(getState().cart.cartItems)\r\n      );\r\n    } catch (error) {\r\n      dispatch({\r\n        type: CART_ITEM_FAIL,\r\n        payload: error.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const saveShippingAddress = (data) => {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: CART_SAVE_ADDRESS,\r\n      payload: data,\r\n    });\r\n\r\n    localStorage.setItem(\"shippingAddress\", JSON.stringify(data));\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}